<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Sudhir Music Player Pro</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    :root {
      --bg: #0a0a0f;
      --card: #12121a;
      --line: rgba(255,255,255,0.08);
      --accent: #38bdf8;
      --accent2: #f97316;
      --accent3: #a855f7;
      --accent4: #10b981;
      --text: #f3f4f6;
      --text-dim: #9ca3af;
      --lyric-size: 0.9rem;
      --lyric-color: #ffffff;
      --lyric-glow: 0 0 20px rgba(56,189,248,0.5);
    }

    [data-theme="cyber"] {
      --bg: #0d0221;
      --card: #0f084b;
      --accent: #00ffcc;
      --accent2: #ff00ff;
      --accent3: #ffff00;
      --accent4: #00ff88;
    }

    [data-theme="neon"] {
      --bg: #000;
      --card: #111;
      --accent: #ccff00;
      --accent2: #ff3e00;
      --accent3: #00ffff;
      --accent4: #ff00ff;
    }

    [data-theme="sunset"] {
      --bg: #1a0a0a;
      --card: #2a1515;
      --accent: #ff6b6b;
      --accent2: #feca57;
      --accent3: #ff9ff3;
      --accent4: #54a0ff;
    }

    [data-theme="ocean"] {
      --bg: #0a1628;
      --card: #0d2137;
      --accent: #00d4ff;
      --accent2: #0099ff;
      --accent3: #00ff88;
      --accent4: #7c3aed;
    }

    [data-theme="fire"] {
      --bg: #1a0a00;
      --card: #2a1500;
      --accent: #ff4500;
      --accent2: #ff6b00;
      --accent3: #ffd700;
      --accent4: #ff1493;
    }

    [data-theme="galaxy"] {
      --bg: #0a0015;
      --card: #150025;
      --accent: #bf00ff;
      --accent2: #8000ff;
      --accent3: #ff00bf;
      --accent4: #00bfff;
    }

    [data-theme="matrix"] {
      --bg: #000a00;
      --card: #001500;
      --accent: #00ff00;
      --accent2: #00cc00;
      --accent3: #00ff66;
      --accent4: #66ff00;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
      font-size: 14px;
    }

    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 10px; }

    /* Header */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 10px;
      background: rgba(10,10,15,0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--line);
      gap: 6px;
    }

    .brand {
      font-weight: 900;
      font-size: 0.9rem;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: flex;
      align-items: center;
      gap: 5px;
      animation: brandGlow 3s ease-in-out infinite;
    }
    .brand svg { width: 18px; height: 18px; }

    @keyframes brandGlow {
      0%, 100% { filter: drop-shadow(0 0 5px var(--accent)); }
      50% { filter: drop-shadow(0 0 15px var(--accent2)); }
    }

    .header-btns {
      display: flex;
      gap: 5px;
      align-items: center;
    }

    .icon-btn {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: rgba(255,255,255,0.05);
      border: 1px solid var(--line);
      color: var(--text);
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: all 0.3s;
    }
    .icon-btn:hover { 
      background: var(--accent); 
      color: var(--bg);
      box-shadow: 0 0 15px var(--accent);
    }
    .icon-btn svg { width: 16px; height: 16px; }

    .theme-dots {
      display: flex;
      gap: 3px;
      padding: 3px;
      background: rgba(0,0,0,0.3);
      border-radius: 16px;
      flex-wrap: wrap;
      max-width: 160px;
    }
    .theme-dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.3s;
    }
    .theme-dot:hover { transform: scale(1.2); box-shadow: 0 0 10px currentColor; }
    .theme-dot.active { border-color: white; transform: scale(1.1); }

    /* Main Container */
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 10px;
    }

    .main-layout {
      display: grid;
      grid-template-columns: 1fr 260px;
      gap: 10px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 10px;
    }

    /* Now Playing */
    .now-playing {
      display: flex;
      gap: 10px;
      align-items: center;
      background: linear-gradient(135deg, rgba(56,189,248,0.1), rgba(249,115,22,0.1));
      border-radius: 12px;
      padding: 10px;
      border: 1px solid var(--line);
      position: relative;
      overflow: hidden;
    }

    .now-playing::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .art-box {
      width: 50px;
      height: 50px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      display: grid;
      place-items: center;
      flex-shrink: 0;
      animation: artPulse 2s ease-in-out infinite;
    }
    .art-box svg { width: 20px; height: 20px; color: white; }

    @keyframes artPulse {
      0%, 100% { box-shadow: 0 0 10px var(--accent); }
      50% { box-shadow: 0 0 25px var(--accent2); }
    }

    .now-info { flex: 1; min-width: 0; position: relative; z-index: 1; }
    .now-title {
      font-weight: 800;
      font-size: 0.85rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .now-sub { font-size: 0.7rem; color: var(--text-dim); margin-top: 2px; }

    .fs-btn {
      padding: 6px 10px;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border: none;
      color: white;
      font-weight: 700;
      font-size: 0.7rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
      position: relative;
      z-index: 1;
      transition: all 0.3s;
    }
    .fs-btn:hover { 
      transform: scale(1.05);
      box-shadow: 0 0 20px var(--accent);
    }
    .fs-btn svg { width: 12px; height: 12px; }

    /* Mini Wave */
    .mini-wave {
      height: 45px;
      border-radius: 8px;
      background: rgba(0,0,0,0.3);
      margin-top: 8px;
      cursor: pointer;
      overflow: hidden;
      position: relative;
    }
    .mini-wave canvas { width: 100%; height: 100%; }
    .mini-wave::after {
      content: '‚ñ∂ Fullscreen';
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      background: rgba(0,0,0,0.6);
      opacity: 0;
      transition: 0.2s;
      font-size: 0.65rem;
      font-weight: 600;
    }
    .mini-wave:hover::after { opacity: 1; }

    /* Drop Zone */
    .drop-zone {
      border: 2px dashed var(--line);
      border-radius: 10px;
      padding: 10px;
      margin-top: 8px;
      text-align: center;
      transition: all 0.3s;
    }
    .drop-zone.dragover {
      border-color: var(--accent);
      background: rgba(56,189,248,0.1);
      box-shadow: 0 0 20px var(--accent);
    }

    .btn {
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      font-size: 0.7rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 3px;
      transition: all 0.3s;
    }
    .btn:hover { 
      border-color: var(--accent); 
      color: var(--accent);
      box-shadow: 0 0 10px var(--accent);
    }
    .btn.primary {
      background: var(--accent);
      color: var(--bg);
      border-color: var(--accent);
    }
    .btn svg { width: 12px; height: 12px; }

    .btn-row {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 6px;
    }

    /* Controls Dock */
    .dock {
      position: sticky;
      bottom: 6px;
      background: rgba(18,18,26,0.95);
      backdrop-filter: blur(12px);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 8px;
      margin-top: 8px;
    }

    .seek-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .seek-row span { font-size: 0.65rem; color: var(--text-dim); min-width: 32px; }
    .seek-row input { flex: 1; }

    input[type="range"] {
      -webkit-appearance: none;
      height: 4px;
      border-radius: 2px;
      background: rgba(255,255,255,0.1);
      cursor: pointer;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 10px var(--accent);
    }

    .controls-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 6px;
      gap: 6px;
      flex-wrap: wrap;
    }

    .play-controls {
      display: flex;
      align-items: center;
      gap: 3px;
    }

    .ctrl-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid var(--line);
      background: transparent;
      color: var(--text);
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: all 0.3s;
    }
    .ctrl-btn:hover { 
      border-color: var(--accent); 
      color: var(--accent);
      box-shadow: 0 0 10px var(--accent);
    }
    .ctrl-btn.play {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border: none;
      color: white;
      box-shadow: 0 0 15px var(--accent);
    }
    .ctrl-btn svg { width: 16px; height: 16px; }

    .extra-controls {
      display: flex;
      align-items: center;
      gap: 4px;
      flex-wrap: wrap;
    }

    .chip {
      padding: 4px 6px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: transparent;
      color: var(--text-dim);
      font-size: 0.65rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 2px;
      transition: all 0.3s;
    }
    .chip:hover { border-color: var(--accent); }
    .chip.active { 
      background: rgba(56,189,248,0.2); 
      border-color: var(--accent); 
      color: var(--accent);
      box-shadow: 0 0 10px var(--accent);
    }
    .chip svg { width: 10px; height: 10px; }

    .vol-wrap {
      display: flex;
      align-items: center;
      gap: 3px;
    }
    .vol-wrap input { width: 50px; }
    .vol-wrap svg { width: 12px; height: 12px; color: var(--text-dim); }

    /* Queue */
    .queue-card { background: rgba(255,255,255,0.02); }
    .queue-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }
    .queue-title { font-weight: 800; font-size: 0.8rem; }
    .queue-count { font-size: 0.65rem; color: var(--text-dim); }

    .queue-list {
      max-height: 280px;
      overflow-y: auto;
    }

    .q-item {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 3px;
      border: 1px solid transparent;
    }
    .q-item:hover { background: rgba(255,255,255,0.05); }
    .q-item.active { 
      border-color: var(--accent); 
      background: rgba(56,189,248,0.1);
      box-shadow: 0 0 10px rgba(56,189,248,0.3);
    }

    .q-num {
      width: 20px;
      height: 20px;
      border-radius: 5px;
      background: rgba(0,0,0,0.3);
      display: grid;
      place-items: center;
      font-size: 0.6rem;
      font-weight: 700;
      flex-shrink: 0;
    }
    .q-info { flex: 1; min-width: 0; }
    .q-title {
      font-size: 0.75rem;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .q-sub { font-size: 0.6rem; color: var(--text-dim); }

    .q-del {
      width: 22px;
      height: 22px;
      border-radius: 5px;
      border: none;
      background: rgba(239,68,68,0.2);
      color: #ef4444;
      cursor: pointer;
      display: grid;
      place-items: center;
      opacity: 0;
      transition: 0.2s;
    }
    .q-item:hover .q-del { opacity: 1; }
    .q-del svg { width: 10px; height: 10px; }

    /* FULLSCREEN VISUALIZER */
    .fs-overlay {
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: var(--bg);
      display: none;
      flex-direction: column;
    }
    .fs-overlay.active { display: flex; }

    .fs-canvas-wrap {
      flex: 1;
      position: relative;
      overflow: hidden;
    }

    #fs-canvas {
      width: 100%;
      height: 100%;
      display: block;
    }

    /* Lyrics Container - Enhanced */
    .lyrics-wrap {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 15px;
      pointer-events: none;
      overflow: hidden;
    }

    .lyrics-box {
      width: 100%;
      max-width: 700px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .lyric-line {
      font-weight: 600;
      opacity: 0;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      line-height: 1.4;
      padding: 4px 12px;
      border-radius: 6px;
    }

    .lyric-line.visible {
      opacity: 1;
    }

    /* Animation Styles */
    .lyric-line.anim-slide { transform: translateY(30px); }
    .lyric-line.anim-slide.visible { transform: translateY(0); }

    .lyric-line.anim-fade { opacity: 0; }
    .lyric-line.anim-fade.visible { opacity: 1; }

    .lyric-line.anim-scale { transform: scale(0.5); }
    .lyric-line.anim-scale.visible { transform: scale(1); }

    .lyric-line.anim-bounce { transform: translateY(-50px); }
    .lyric-line.anim-bounce.visible { transform: translateY(0); animation: bounce 0.6s ease; }

    .lyric-line.anim-rotate { transform: rotateX(90deg); }
    .lyric-line.anim-rotate.visible { transform: rotateX(0); }

    .lyric-line.anim-blur { filter: blur(10px); }
    .lyric-line.anim-blur.visible { filter: blur(0); }

    .lyric-line.anim-wave { transform: translateX(-100px) rotate(-10deg); }
    .lyric-line.anim-wave.visible { transform: translateX(0) rotate(0); }

    .lyric-line.anim-typewriter { 
      overflow: hidden;
      white-space: nowrap;
      width: 0;
    }
    .lyric-line.anim-typewriter.visible { 
      width: 100%;
      animation: typewriter 1s steps(30) forwards;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    @keyframes typewriter {
      from { width: 0; }
      to { width: 100%; }
    }

    /* Color Styles for Current Line */
    .lyric-line.current {
      font-size: var(--lyric-size);
      font-weight: 700;
    }

    .lyric-line.current.color-rainbow {
      background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #8b00ff, #ff0000);
      background-size: 400% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbowMove 3s linear infinite;
    }

    .lyric-line.current.color-fire {
      background: linear-gradient(90deg, #ff0000, #ff4500, #ff6b00, #ffd700, #ff4500);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: fireMove 2s ease infinite;
      text-shadow: 0 0 20px #ff4500, 0 0 40px #ff0000;
    }

    .lyric-line.current.color-ice {
      background: linear-gradient(90deg, #00ffff, #00bfff, #87ceeb, #e0ffff, #00bfff);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: iceMove 3s ease infinite;
      text-shadow: 0 0 20px #00ffff, 0 0 40px #00bfff;
    }

    .lyric-line.current.color-neon {
      color: #fff;
      text-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent), 0 0 30px var(--accent), 0 0 40px var(--accent2);
      animation: neonPulse 1.5s ease-in-out infinite;
    }

    .lyric-line.current.color-galaxy {
      background: linear-gradient(90deg, #bf00ff, #8000ff, #4000ff, #0040ff, #00bfff, #bf00ff);
      background-size: 400% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: galaxyMove 4s linear infinite;
      text-shadow: 0 0 30px #8000ff;
    }

    .lyric-line.current.color-gold {
      background: linear-gradient(90deg, #ffd700, #ffb700, #ff9500, #ffb700, #ffd700);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: goldShine 2s ease infinite;
      text-shadow: 0 0 20px #ffd700;
    }

    .lyric-line.current.color-matrix {
      color: #00ff00;
      text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00, 0 0 30px #00ff00;
      animation: matrixFlicker 0.5s infinite;
    }

    .lyric-line.current.color-sunset {
      background: linear-gradient(90deg, #ff6b6b, #feca57, #ff9ff3, #54a0ff, #ff6b6b);
      background-size: 400% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: sunsetMove 5s ease infinite;
    }

    .lyric-line.current.color-ocean {
      background: linear-gradient(90deg, #006994, #0099cc, #00d4ff, #40e0d0, #0099cc);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: oceanWave 3s ease infinite;
      text-shadow: 0 0 15px #00d4ff;
    }

    .lyric-line.current.color-candy {
      background: linear-gradient(90deg, #ff69b4, #ff1493, #ff69b4, #da70d6, #ff69b4);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: candyPop 2s ease infinite;
    }

    .lyric-line.current.color-electric {
      background: linear-gradient(90deg, #00ffff, #ff00ff, #ffff00, #00ffff);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: electricShock 0.3s infinite;
      text-shadow: 0 0 25px #00ffff;
    }

    .lyric-line.current.color-blood {
      background: linear-gradient(90deg, #8b0000, #dc143c, #ff0000, #dc143c, #8b0000);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: bloodPulse 2s ease infinite;
      text-shadow: 0 0 20px #ff0000;
    }

    .lyric-line.current.color-aurora {
      background: linear-gradient(90deg, #00ff87, #60efff, #ff00ff, #ffff00, #00ff87);
      background-size: 500% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: auroraFlow 6s linear infinite;
    }

    @keyframes rainbowMove {
      0% { background-position: 0% 50%; }
      100% { background-position: 400% 50%; }
    }

    @keyframes fireMove {
      0%, 100% { background-position: 0% 50%; filter: brightness(1); }
      50% { background-position: 100% 50%; filter: brightness(1.3); }
    }

    @keyframes iceMove {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes neonPulse {
      0%, 100% { opacity: 1; text-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent), 0 0 30px var(--accent); }
      50% { opacity: 0.8; text-shadow: 0 0 20px var(--accent2), 0 0 40px var(--accent2), 0 0 60px var(--accent2); }
    }

    @keyframes galaxyMove {
      0% { background-position: 0% 50%; }
      100% { background-position: 400% 50%; }
    }

    @keyframes goldShine {
      0%, 100% { background-position: 0% 50%; filter: brightness(1); }
      50% { background-position: 100% 50%; filter: brightness(1.5); }
    }

    @keyframes matrixFlicker {
      0%, 90% { opacity: 1; }
      91%, 100% { opacity: 0.7; }
    }

    @keyframes sunsetMove {
      0% { background-position: 0% 50%; }
      100% { background-position: 400% 50%; }
    }

    @keyframes oceanWave {
      0%, 100% { background-position: 0% 50%; transform: translateY(0); }
      25% { transform: translateY(-3px); }
      50% { background-position: 100% 50%; transform: translateY(0); }
      75% { transform: translateY(3px); }
    }

    @keyframes candyPop {
      0%, 100% { background-position: 0% 50%; transform: scale(1); }
      50% { background-position: 100% 50%; transform: scale(1.02); }
    }

    @keyframes electricShock {
      0%, 100% { background-position: 0% 50%; transform: translateX(0); }
      25% { transform: translateX(-2px); }
      75% { transform: translateX(2px); }
    }

    @keyframes bloodPulse {
      0%, 100% { background-position: 0% 50%; transform: scale(1); }
      50% { background-position: 100% 50%; transform: scale(1.03); }
    }

    @keyframes auroraFlow {
      0% { background-position: 0% 50%; }
      100% { background-position: 500% 50%; }
    }

    .lyric-line.prev {
      font-size: calc(var(--lyric-size) * 0.7);
      color: rgba(255,255,255,0.3);
    }

    .lyric-line.next {
      font-size: calc(var(--lyric-size) * 0.8);
      color: rgba(255,255,255,0.5);
    }

    .lyric-line.far {
      font-size: calc(var(--lyric-size) * 0.6);
      color: rgba(255,255,255,0.2);
    }

    /* Particles */
    .particle {
      position: absolute;
      border-radius: 50%;
      pointer-events: none;
    }

    /* Background Effects */
    .bg-effect {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 0;
    }

    .bg-stars {
      background-image: 
        radial-gradient(2px 2px at 20px 30px, white, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, white, transparent),
        radial-gradient(2px 2px at 130px 80px, rgba(255,255,255,0.6), transparent);
      background-size: 200px 100px;
      animation: twinkle 4s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }

    /* FS Controls */
    .fs-top {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      padding: 12px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      opacity: 0;
      transition: 0.3s;
      background: linear-gradient(to bottom, rgba(0,0,0,0.7), transparent);
      z-index: 10;
    }
    .fs-overlay:hover .fs-top { opacity: 1; }

    .fs-title { font-weight: 800; font-size: 0.95rem; }
    .fs-sub { font-size: 0.7rem; color: var(--text-dim); margin-top: 2px; }

    .fs-close {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: all 0.3s;
    }
    .fs-close:hover { background: var(--accent); }

    .fs-bottom {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 12px;
      background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
      opacity: 0;
      transition: 0.3s;
      z-index: 10;
    }
    .fs-overlay:hover .fs-bottom { opacity: 1; }

    .fs-seek-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }
    .fs-seek-row input { flex: 1; }
    .fs-seek-row span { font-size: 0.7rem; color: var(--text-dim); }

    .fs-controls-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }

    .fs-ctrl {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: 0.3s;
    }
    .fs-ctrl:hover { 
      background: rgba(255,255,255,0.2); 
      transform: scale(1.1);
      box-shadow: 0 0 20px var(--accent);
    }
    .fs-ctrl.play {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border: none;
      box-shadow: 0 0 25px var(--accent);
    }
    .fs-ctrl svg { width: 18px; height: 18px; }

    /* SETTINGS MODAL - Enhanced */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      backdrop-filter: blur(8px);
      z-index: 10000;
      display: none;
      justify-content: center;
      align-items: flex-start;
      padding: 10px;
      overflow-y: auto;
    }
    .modal-overlay.active { display: flex; }

    .modal {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 14px;
      width: min(520px, 100%);
      max-height: 95vh;
      overflow-y: auto;
      padding: 12px;
      margin: auto 0;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--line);
    }
    .modal-title {
      font-weight: 800;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .tabs {
      display: flex;
      gap: 4px;
      margin-bottom: 12px;
      background: rgba(0,0,0,0.3);
      padding: 4px;
      border-radius: 10px;
    }
    .tab {
      flex: 1;
      padding: 8px;
      border: none;
      background: transparent;
      color: var(--text-dim);
      font-size: 0.7rem;
      font-weight: 600;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s;
    }
    .tab:hover { color: var(--text); }
    .tab.active { background: var(--accent); color: var(--bg); }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    .setting-group {
      margin-bottom: 12px;
      background: rgba(0,0,0,0.2);
      padding: 10px;
      border-radius: 10px;
    }
    .setting-label {
      font-weight: 700;
      font-size: 0.75rem;
      margin-bottom: 8px;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .setting-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      gap: 8px;
      flex-wrap: wrap;
    }
    .setting-row:last-child { border-bottom: none; }

    .setting-name {
      font-size: 0.7rem;
      color: var(--text-dim);
    }

    .setting-control {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    select, input[type="number"] {
      padding: 5px 8px;
      border-radius: 6px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,0.3);
      color: var(--text);
      font-size: 0.7rem;
    }

    input[type="color"] {
      width: 32px;
      height: 24px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    textarea {
      width: 100%;
      min-height: 100px;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,0.3);
      color: var(--text);
      font-size: 0.75rem;
      resize: vertical;
      font-family: inherit;
    }
    textarea:focus { outline: none; border-color: var(--accent); }

    .toggle {
      position: relative;
      width: 40px;
      height: 22px;
      background: rgba(255,255,255,0.1);
      border-radius: 11px;
      cursor: pointer;
      transition: 0.3s;
    }
    .toggle.active { background: var(--accent); box-shadow: 0 0 10px var(--accent); }
    .toggle::after {
      content: '';
      position: absolute;
      width: 18px;
      height: 18px;
      background: white;
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: 0.3s;
    }
    .toggle.active::after { left: 20px; }

    .preset-btns {
      display: flex;
      gap: 4px;
      flex-wrap: wrap;
    }
    .preset-btn {
      padding: 4px 8px;
      border-radius: 6px;
      border: 1px solid var(--line);
      background: transparent;
      color: var(--text-dim);
      font-size: 0.65rem;
      cursor: pointer;
      transition: all 0.3s;
    }
    .preset-btn:hover { 
      border-color: var(--accent); 
      color: var(--accent);
      box-shadow: 0 0 10px var(--accent);
    }
    .preset-btn.active { 
      background: var(--accent); 
      color: var(--bg); 
      border-color: var(--accent); 
    }

    .color-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 4px;
      margin-top: 8px;
    }
    .color-option {
      aspect-ratio: 1;
      border-radius: 6px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }
    .color-option:hover { transform: scale(1.1); }
    .color-option.active { border-color: white; box-shadow: 0 0 10px currentColor; }
    .color-option span {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      font-size: 0.5rem;
      background: rgba(0,0,0,0.7);
      padding: 1px;
      text-align: center;
    }

    /* Toast */
    #toast {
      position: fixed;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--card);
      border: 1px solid var(--accent);
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 0.75rem;
      opacity: 0;
      transition: all 0.3s;
      z-index: 20000;
      white-space: nowrap;
      box-shadow: 0 0 20px var(--accent);
    }
    #toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

    /* Footer */
    footer {
      text-align: center;
      padding: 12px;
      color: var(--text-dim);
      font-size: 0.7rem;
      border-top: 1px solid var(--line);
      margin-top: 12px;
    }

    /* RESPONSIVE */
    @media (max-width: 480px) {
      header { padding: 6px 8px; }
      .brand span { display: none; }
      .container { padding: 6px; }
      .main-layout { grid-template-columns: 1fr; gap: 8px; }
      .now-playing { padding: 8px; gap: 8px; }
      .art-box { width: 42px; height: 42px; }
      .now-title { font-size: 0.8rem; }
      .fs-btn span { display: none; }
      .fs-btn { padding: 6px 8px; }
      .mini-wave { height: 40px; }
      .drop-zone { padding: 8px; }
      .dock { padding: 6px; }
      .seek-row span { font-size: 0.6rem; min-width: 28px; }
      .ctrl-btn { width: 28px; height: 28px; }
      .ctrl-btn.play { width: 36px; height: 36px; }
      .ctrl-btn svg { width: 14px; height: 14px; }
      .controls-row { justify-content: center; }
      .play-controls { order: -1; width: 100%; justify-content: center; margin-bottom: 4px; }
      .extra-controls { justify-content: center; width: 100%; }
      .vol-wrap { display: none; }
      .queue-list { max-height: 180px; }
      .q-item { padding: 5px; }
      .q-title { font-size: 0.7rem; }
      :root { --lyric-size: 0.8rem; }
      .fs-ctrl { width: 36px; height: 36px; }
      .fs-ctrl.play { width: 44px; height: 44px; }
      .fs-ctrl svg { width: 16px; height: 16px; }
      .modal { padding: 10px; }
      .theme-dots { max-width: 120px; }
      .theme-dot { width: 12px; height: 12px; }
      .color-grid { grid-template-columns: repeat(4, 1fr); }
    }

    @media (min-width: 481px) and (max-width: 768px) {
      .main-layout { grid-template-columns: 1fr; }
      .queue-list { max-height: 200px; }
      :root { --lyric-size: 0.9rem; }
    }

    @media (min-width: 769px) {
      :root { --lyric-size: 1rem; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-60px) scale(1.1); }
    }

    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0); }
      50% { opacity: 1; transform: scale(1); }
    }

    @keyframes rotate3d {
      0% { transform: rotateY(0deg); }
      100% { transform: rotateY(360deg); }
    }

    @keyframes colorShift {
      0% { filter: hue-rotate(0deg); }
      100% { filter: hue-rotate(360deg); }
    }
  </style>
</head>
<body>

  <header>
    <div class="brand">
      <i data-lucide="music-4"></i>
      <span>Sudhir Player Pro</span>
    </div>
    <div class="header-btns">
      <button class="icon-btn" onclick="openSettings()" title="Settings">
        <i data-lucide="settings"></i>
      </button>
      <div class="theme-dots">
        <div class="theme-dot active" style="background:linear-gradient(135deg,#38bdf8,#f97316)" onclick="setTheme('default',this)" title="Default"></div>
        <div class="theme-dot" style="background:linear-gradient(135deg,#00ffcc,#ff00ff)" onclick="setTheme('cyber',this)" title="Cyber"></div>
        <div class="theme-dot" style="background:linear-gradient(135deg,#ccff00,#ff3e00)" onclick="setTheme('neon',this)" title="Neon"></div>
        <div class="theme-dot" style="background:linear-gradient(135deg,#ff6b6b,#feca57)" onclick="setTheme('sunset',this)" title="Sunset"></div>
        <div class="theme-dot" style="background:linear-gradient(135deg,#00d4ff,#0099ff)" onclick="setTheme('ocean',this)" title="Ocean"></div>
        <div class="theme-dot" style="background:linear-gradient(135deg,#ff4500,#ffd700)" onclick="setTheme('fire',this)" title="Fire"></div>
        <div class="theme-dot" style="background:linear-gradient(135deg,#bf00ff,#00bfff)" onclick="setTheme('galaxy',this)" title="Galaxy"></div>
        <div class="theme-dot" style="background:linear-gradient(135deg,#00ff00,#00cc00)" onclick="setTheme('matrix',this)" title="Matrix"></div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="main-layout">
      <div>
        <!-- Now Playing -->
        <div class="now-playing">
          <div class="art-box"><i data-lucide="music"></i></div>
          <div class="now-info">
            <div class="now-title" id="now-title">No track loaded</div>
            <div class="now-sub" id="now-sub">Add music to play</div>
          </div>
          <button class="fs-btn" onclick="openFullscreen()">
            <i data-lucide="maximize-2"></i>
            <span>Visualizer</span>
          </button>
        </div>

        <!-- Mini Wave -->
        <div class="mini-wave" onclick="openFullscreen()">
          <canvas id="mini-canvas"></canvas>
        </div>

        <!-- Drop Zone -->
        <div class="drop-zone" id="drop-zone">
          <div style="font-weight:700;font-size:0.8rem;">Drop audio files here</div>
          <div style="font-size:0.65rem;color:var(--text-dim);margin-top:3px;">MP3, WAV, OGG, FLAC</div>
          <div class="btn-row">
            <input type="file" id="file-input" multiple accept="audio/*" hidden>
            <button class="btn primary" onclick="document.getElementById('file-input').click()">
              <i data-lucide="plus"></i> Add
            </button>
            <button class="btn" id="folder-btn" onclick="pickFolder()">
              <i data-lucide="folder"></i> Folder
            </button>
            <button class="btn" onclick="loadLibrary()">
              <i data-lucide="database"></i> Library
            </button>
            <button class="btn" onclick="showServerHelp()" title="Help">
              <i data-lucide="help-circle"></i>
            </button>
          </div>
        </div>

        <!-- Dock -->
        <div class="dock">
          <div class="seek-row">
            <span id="t-cur">0:00</span>
            <input type="range" id="seek" min="0" max="1000" value="0">
            <span id="t-dur">0:00</span>
          </div>
          <div class="controls-row">
            <div class="play-controls">
              <button class="ctrl-btn" onclick="prevTrack()"><i data-lucide="skip-back"></i></button>
              <button class="ctrl-btn play" id="play-btn" onclick="togglePlay()"><i data-lucide="play"></i></button>
              <button class="ctrl-btn" onclick="nextTrack()"><i data-lucide="skip-forward"></i></button>
            </div>
            <div class="extra-controls">
              <button class="chip" id="shuffle-chip" onclick="toggleShuffle()"><i data-lucide="shuffle"></i></button>
              <button class="chip" id="loop-chip" onclick="toggleLoop()"><i data-lucide="repeat"></i></button>
              <select id="speed" onchange="setSpeed()" style="font-size:0.65rem;padding:4px;">
                <option value="0.5">0.5x</option>
                <option value="0.75">0.75x</option>
                <option value="1" selected>1x</option>
                <option value="1.25">1.25x</option>
                <option value="1.5">1.5x</option>
                <option value="2">2x</option>
              </select>
              <div class="vol-wrap">
                <i data-lucide="volume-2"></i>
                <input type="range" id="vol" min="0" max="100" value="80">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Queue -->
      <div class="card queue-card">
        <div class="queue-header">
          <div>
            <div class="queue-title">Queue</div>
            <div class="queue-count" id="queue-count">0 tracks</div>
          </div>
          <div style="display:flex;gap:3px;">
            <button class="btn" onclick="sortQueue()"><i data-lucide="arrow-up-a-z"></i></button>
            <button class="btn" style="color:#ef4444;border-color:rgba(239,68,68,0.3);" onclick="clearQueue()"><i data-lucide="trash-2"></i></button>
          </div>
        </div>
        <div class="queue-list" id="queue"></div>
      </div>
    </div>

    <footer>Made with ‚ù§Ô∏è by <strong>Sudhir</strong> ¬© 2025</footer>
  </div>

  <!-- FULLSCREEN -->
  <div class="fs-overlay" id="fs-overlay">
    <div class="fs-canvas-wrap">
      <canvas id="fs-canvas"></canvas>
      <div class="bg-effect" id="bg-effect"></div>
      <div class="lyrics-wrap">
        <div class="lyrics-box" id="lyrics-box"></div>
      </div>
      <div id="particles"></div>
    </div>

    <div class="fs-top">
      <div class="fs-title-box">
        <div class="fs-title" id="fs-title">No track</div>
        <div class="fs-sub" id="fs-sub">Add music</div>
      </div>
      <button class="fs-close" onclick="closeFullscreen()"><i data-lucide="x"></i></button>
    </div>

    <div class="fs-bottom">
      <div class="fs-seek-row">
        <span id="fs-cur">0:00</span>
        <input type="range" id="fs-seek" min="0" max="1000" value="0">
        <span id="fs-dur">0:00</span>
      </div>
      <div class="fs-controls-row">
        <button class="fs-ctrl" onclick="prevTrack()"><i data-lucide="skip-back"></i></button>
        <button class="fs-ctrl play" id="fs-play" onclick="togglePlay()"><i data-lucide="play"></i></button>
        <button class="fs-ctrl" onclick="nextTrack()"><i data-lucide="skip-forward"></i></button>
      </div>
    </div>
  </div>

  <!-- SETTINGS MODAL -->
  <div class="modal-overlay" id="settings-modal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title"><i data-lucide="settings"></i> Settings</div>
        <button class="icon-btn" onclick="closeSettings()"><i data-lucide="x"></i></button>
      </div>

      <div class="tabs">
        <button class="tab active" onclick="switchTab('lyrics')">üé§ Lyrics</button>
        <button class="tab" onclick="switchTab('visualizer')">üé® Visualizer</button>
        <button class="tab" onclick="switchTab('effects')">‚ú® Effects</button>
      </div>

      <!-- Lyrics Tab -->
      <div class="tab-content active" id="tab-lyrics">
        <div class="setting-group">
          <div class="setting-label">üìù Text Settings</div>
          <div class="setting-row">
            <span class="setting-name">Font Size</span>
            <div class="setting-control">
              <select id="lyric-size" onchange="updateSettings()">
                <option value="0.6rem">Tiny</option>
                <option value="0.75rem">Small</option>
                <option value="0.9rem" selected>Medium</option>
                <option value="1.1rem">Large</option>
                <option value="1.3rem">XL</option>
                <option value="1.6rem">XXL</option>
              </select>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Animation</span>
            <div class="setting-control">
              <select id="lyric-anim" onchange="updateSettings()">
                <option value="slide">Slide Up</option>
                <option value="fade">Fade In</option>
                <option value="scale">Scale</option>
                <option value="bounce">Bounce</option>
                <option value="rotate">3D Rotate</option>
                <option value="blur">Blur</option>
                <option value="wave">Wave</option>
                <option value="typewriter">Typewriter</option>
              </select>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Speed (sec/line)</span>
            <div class="setting-control">
              <input type="number" id="lyric-speed" value="3" min="1" max="15" step="0.5" style="width:55px" onchange="updateSettings()">
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Lines Visible</span>
            <div class="setting-control">
              <select id="lyric-lines" onchange="updateSettings()">
                <option value="1">1 line</option>
                <option value="3" selected>3 lines</option>
                <option value="5">5 lines</option>
                <option value="7">7 lines</option>
              </select>
            </div>
          </div>
        </div>

        <div class="setting-group">
          <div class="setting-label">üåà Color Animation</div>
          <div class="color-grid" id="color-grid">
            <div class="color-option active" data-color="rainbow" style="background:linear-gradient(90deg,#ff0000,#ff7f00,#ffff00,#00ff00,#0000ff,#8b00ff)"><span>Rainbow</span></div>
            <div class="color-option" data-color="fire" style="background:linear-gradient(90deg,#ff0000,#ff4500,#ffd700)"><span>Fire</span></div>
            <div class="color-option" data-color="ice" style="background:linear-gradient(90deg,#00ffff,#00bfff,#87ceeb)"><span>Ice</span></div>
            <div class="color-option" data-color="neon" style="background:linear-gradient(90deg,#ff00ff,#00ffff,#ffff00)"><span>Neon</span></div>
            <div class="color-option" data-color="galaxy" style="background:linear-gradient(90deg,#bf00ff,#8000ff,#00bfff)"><span>Galaxy</span></div>
            <div class="color-option" data-color="gold" style="background:linear-gradient(90deg,#ffd700,#ffb700,#ff9500)"><span>Gold</span></div>
            <div class="color-option" data-color="matrix" style="background:#00ff00"><span>Matrix</span></div>
            <div class="color-option" data-color="sunset" style="background:linear-gradient(90deg,#ff6b6b,#feca57,#ff9ff3)"><span>Sunset</span></div>
            <div class="color-option" data-color="ocean" style="background:linear-gradient(90deg,#006994,#00d4ff,#40e0d0)"><span>Ocean</span></div>
            <div class="color-option" data-color="candy" style="background:linear-gradient(90deg,#ff69b4,#ff1493,#da70d6)"><span>Candy</span></div>
            <div class="color-option" data-color="electric" style="background:linear-gradient(90deg,#00ffff,#ff00ff,#ffff00)"><span>Electric</span></div>
            <div class="color-option" data-color="blood" style="background:linear-gradient(90deg,#8b0000,#dc143c,#ff0000)"><span>Blood</span></div>
            <div class="color-option" data-color="aurora" style="background:linear-gradient(90deg,#00ff87,#60efff,#ff00ff,#ffff00)"><span>Aurora</span></div>
          </div>
        </div>

        <div class="setting-group">
          <div class="setting-label">‚úçÔ∏è Enter Lyrics</div>
          <textarea id="lyrics-input" placeholder="Enter lyrics (one line per row)...
Line 1
Line 2
Line 3"></textarea>
          <div style="display:flex;gap:4px;margin-top:8px;">
            <button class="btn primary" style="flex:1;" onclick="saveLyrics()">
              <i data-lucide="check"></i> Save
            </button>
            <button class="btn" onclick="clearLyrics()">
              <i data-lucide="trash-2"></i> Clear
            </button>
          </div>
          <div class="preset-btns" style="margin-top:8px;">
            <button class="preset-btn" onclick="loadPresetLyrics('demo')">Demo</button>
            <button class="preset-btn" onclick="loadPresetLyrics('hindi')">Hindi</button>
            <button class="preset-btn" onclick="loadPresetLyrics('party')">Party</button>
            <button class="preset-btn" onclick="loadPresetLyrics('love')">Love</button>
            <button class="preset-btn" onclick="loadPresetLyrics('motivational')">Motivation</button>
          </div>
        </div>
      </div>

      <!-- Visualizer Tab -->
      <div class="tab-content" id="tab-visualizer">
        <div class="setting-group">
          <div class="setting-label">üé≠ Style</div>
          <div class="setting-row">
            <span class="setting-name">Type</span>
            <div class="setting-control">
              <select id="viz-style" onchange="updateSettings()">
                <option value="bars">Bars</option>
                <option value="circle" selected>Circle</option>
                <option value="wave">Wave</option>
                <option value="particles">Particles</option>
                <option value="spectrum">Spectrum</option>
                <option value="radial">Radial Burst</option>
                <option value="waveform">Waveform</option>
                <option value="galaxy">Galaxy</option>
                <option value="tunnel">Tunnel</option>
                <option value="matrix">Matrix Rain</option>
              </select>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Color Mode</span>
            <div class="setting-control">
              <select id="viz-color-mode" onchange="updateSettings()">
                <option value="theme">Theme Colors</option>
                <option value="rainbow">Rainbow</option>
                <option value="fire">Fire</option>
                <option value="ice">Ice</option>
                <option value="neon">Neon</option>
                <option value="mono">Monochrome</option>
                <option value="custom">Custom</option>
              </select>
            </div>
          </div>
          <div class="setting-row" id="custom-color-row" style="display:none;">
            <span class="setting-name">Custom Color</span>
            <div class="setting-control">
              <input type="color" id="viz-custom-color" value="#38bdf8" onchange="updateSettings()">
            </div>
          </div>
        </div>

        <div class="setting-group">
          <div class="setting-label">‚ö° Intensity</div>
          <div class="setting-row">
            <span class="setting-name">Level</span>
            <div class="setting-control">
              <input type="range" id="viz-intensity" min="1" max="10" value="5" style="width:100px" onchange="updateSettings()">
              <span id="viz-intensity-val" style="font-size:0.65rem;width:20px;">5</span>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Smoothing</span>
            <div class="setting-control">
              <input type="range" id="viz-smooth" min="0" max="10" value="5" style="width:100px" onchange="updateSettings()">
            </div>
          </div>
        </div>

        <div class="setting-group">
          <div class="setting-label">üé¨ Presets</div>
          <div class="preset-btns">
            <button class="preset-btn" onclick="loadVizPreset('minimal')">Minimal</button>
            <button class="preset-btn" onclick="loadVizPreset('intense')">Intense</button>
            <button class="preset-btn" onclick="loadVizPreset('chill')">Chill</button>
            <button class="preset-btn" onclick="loadVizPreset('party')">Party</button>
            <button class="preset-btn" onclick="loadVizPreset('psychedelic')">Psychedelic</button>
            <button class="preset-btn" onclick="loadVizPreset('retro')">Retro</button>
          </div>
        </div>
      </div>

      <!-- Effects Tab -->
      <div class="tab-content" id="tab-effects">
        <div class="setting-group">
          <div class="setting-label">‚ú® Particles</div>
          <div class="setting-row">
            <span class="setting-name">Show Particles</span>
            <div class="setting-control">
              <div class="toggle active" id="viz-particles-toggle" onclick="toggleParticlesSetting()"></div>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Particle Count</span>
            <div class="setting-control">
              <select id="particle-count" onchange="updateSettings()">
                <option value="10">Few (10)</option>
                <option value="25" selected>Normal (25)</option>
                <option value="50">Many (50)</option>
                <option value="100">Lots (100)</option>
              </select>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Particle Style</span>
            <div class="setting-control">
              <select id="particle-style" onchange="updateSettings()">
                <option value="circle">Circles</option>
                <option value="star">Stars</option>
                <option value="square">Squares</option>
                <option value="mixed">Mixed</option>
              </select>
            </div>
          </div>
        </div>

        <div class="setting-group">
          <div class="setting-label">üåü Background</div>
          <div class="setting-row">
            <span class="setting-name">Background Effect</span>
            <div class="setting-control">
              <select id="bg-effect-type" onchange="updateSettings()">
                <option value="none">None</option>
                <option value="stars">Starfield</option>
                <option value="gradient">Gradient Pulse</option>
                <option value="grid">Neon Grid</option>
                <option value="noise">Noise</option>
              </select>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Mirror Effect</span>
            <div class="setting-control">
              <div class="toggle" id="viz-mirror-toggle" onclick="toggleMirrorSetting()"></div>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-name">Glow Effect</span>
            <div class="setting-control">
              <div class="toggle active" id="glow-toggle" onclick="toggleGlowSetting()"></div>
            </div>
          </div>
        </div>

        <div class="setting-group">
          <div class="setting-label">üîä Audio</div>
          <div class="setting-row">
            <span class="setting-name">Auto-play next</span>
            <div class="setting-control">
              <div class="toggle active" id="autoplay-toggle" onclick="toggleAutoplay()"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="toast">Ready</div>

  <audio id="audio" preload="metadata"></audio>

  <script>
    lucide.createIcons();

    // ========== STATE ==========
    let queue = [];
    let currentIndex = -1;
    let shuffle = false;
    let loop = false;
    let isFullscreen = false;
    let lyrics = [];
    let lyricIndex = 0;
    let lyricTimer = null;
    let autoplay = true;

    // Settings
    let settings = {
      lyricSize: '0.9rem',
      lyricColor: 'rainbow',
      lyricAnim: 'slide',
      lyricSpeed: 3,
      lyricLines: 3,
      vizStyle: 'circle',
      vizColorMode: 'theme',
      vizCustomColor: '#38bdf8',
      vizIntensity: 5,
      vizSmooth: 5,
      vizParticles: true,
      vizMirror: false,
      vizGlow: true,
      particleCount: 25,
      particleStyle: 'circle',
      bgEffect: 'none'
    };

    // Audio
    const audio = document.getElementById('audio');
    let audioCtx, analyser, source, audioReady = false;

    // Load saved
    try {
      const s = localStorage.getItem('sudhir-settings-v2');
      if (s) settings = { ...settings, ...JSON.parse(s) };
      const l = localStorage.getItem('sudhir-lyrics');
      if (l) lyrics = JSON.parse(l);
    } catch {}

    // ========== THEME ==========
    function setTheme(theme, el) {
      document.documentElement.setAttribute('data-theme', theme === 'default' ? '' : theme);
      document.querySelectorAll('.theme-dot').forEach(d => d.classList.remove('active'));
      el.classList.add('active');
      localStorage.setItem('sudhir-theme', theme);
    }

    // ========== TOAST ==========
    let toastT;
    function toast(msg) {
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      clearTimeout(toastT);
      toastT = setTimeout(() => t.classList.remove('show'), 2000);
    }

    // ========== TABS ==========
    function switchTab(tab) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
      document.getElementById('tab-' + tab).classList.add('active');
    }

    // ========== SETTINGS ==========
    function openSettings() {
      document.getElementById('settings-modal').classList.add('active');
      loadSettingsUI();
      lucide.createIcons();
    }

    function loadSettingsUI() {
      document.getElementById('lyric-size').value = settings.lyricSize;
      document.getElementById('lyric-anim').value = settings.lyricAnim;
      document.getElementById('lyric-speed').value = settings.lyricSpeed;
      document.getElementById('lyric-lines').value = settings.lyricLines;
      document.getElementById('viz-style').value = settings.vizStyle;
      document.getElementById('viz-color-mode').value = settings.vizColorMode;
      document.getElementById('viz-custom-color').value = settings.vizCustomColor;
      document.getElementById('viz-intensity').value = settings.vizIntensity;
      document.getElementById('viz-intensity-val').textContent = settings.vizIntensity;
      document.getElementById('viz-smooth').value = settings.vizSmooth;
      document.getElementById('viz-particles-toggle').classList.toggle('active', settings.vizParticles);
      document.getElementById('viz-mirror-toggle').classList.toggle('active', settings.vizMirror);
      document.getElementById('glow-toggle').classList.toggle('active', settings.vizGlow);
      document.getElementById('particle-count').value = settings.particleCount;
      document.getElementById('particle-style').value = settings.particleStyle;
      document.getElementById('bg-effect-type').value = settings.bgEffect;
      document.getElementById('lyrics-input').value = lyrics.join('\n');
      
      // Color grid
      document.querySelectorAll('.color-option').forEach(el => {
        el.classList.toggle('active', el.dataset.color === settings.lyricColor);
      });
      
      updateColorRowVisibility();
    }

    function closeSettings() {
      document.getElementById('settings-modal').classList.remove('active');
    }

    function updateSettings() {
      settings.lyricSize = document.getElementById('lyric-size').value;
      settings.lyricAnim = document.getElementById('lyric-anim').value;
      settings.lyricSpeed = parseFloat(document.getElementById('lyric-speed').value) || 3;
      settings.lyricLines = parseInt(document.getElementById('lyric-lines').value) || 3;
      settings.vizStyle = document.getElementById('viz-style').value;
      settings.vizColorMode = document.getElementById('viz-color-mode').value;
      settings.vizCustomColor = document.getElementById('viz-custom-color').value;
      settings.vizIntensity = parseInt(document.getElementById('viz-intensity').value) || 5;
      settings.vizSmooth = parseInt(document.getElementById('viz-smooth').value) || 5;
      settings.particleCount = parseInt(document.getElementById('particle-count').value) || 25;
      settings.particleStyle = document.getElementById('particle-style').value;
      settings.bgEffect = document.getElementById('bg-effect-type').value;
      document.getElementById('viz-intensity-val').textContent = settings.vizIntensity;
      
      localStorage.setItem('sudhir-settings-v2', JSON.stringify(settings));
      applySettings();
      updateColorRowVisibility();
    }

    function applySettings() {
      document.documentElement.style.setProperty('--lyric-size', settings.lyricSize);
      if (isFullscreen) {
        renderLyrics();
        if (settings.vizParticles) createParticles();
        applyBgEffect();
      }
    }

    function updateColorRowVisibility() {
      document.getElementById('custom-color-row').style.display = 
        settings.vizColorMode === 'custom' ? 'flex' : 'none';
    }

    // Color grid click
    document.getElementById('color-grid').addEventListener('click', (e) => {
      const opt = e.target.closest('.color-option');
      if (opt) {
        document.querySelectorAll('.color-option').forEach(el => el.classList.remove('active'));
        opt.classList.add('active');
        settings.lyricColor = opt.dataset.color;
        localStorage.setItem('sudhir-settings-v2', JSON.stringify(settings));
        if (isFullscreen) renderLyrics();
      }
    });

    function toggleParticlesSetting() {
      settings.vizParticles = !settings.vizParticles;
      document.getElementById('viz-particles-toggle').classList.toggle('active', settings.vizParticles);
      localStorage.setItem('sudhir-settings-v2', JSON.stringify(settings));
      if (isFullscreen) createParticles();
    }

    function toggleMirrorSetting() {
      settings.vizMirror = !settings.vizMirror;
      document.getElementById('viz-mirror-toggle').classList.toggle('active', settings.vizMirror);
      localStorage.setItem('sudhir-settings-v2', JSON.stringify(settings));
    }

    function toggleGlowSetting() {
      settings.vizGlow = !settings.vizGlow;
      document.getElementById('glow-toggle').classList.toggle('active', settings.vizGlow);
      localStorage.setItem('sudhir-settings-v2', JSON.stringify(settings));
    }

    function toggleAutoplay() {
      autoplay = !autoplay;
      document.getElementById('autoplay-toggle').classList.toggle('active', autoplay);
    }

    // ========== LYRICS ==========
    function saveLyrics() {
      const text = document.getElementById('lyrics-input').value;
      lyrics = text.split('\n').map(l => l.trim()).filter(Boolean);
      localStorage.setItem('sudhir-lyrics', JSON.stringify(lyrics));
      toast('Lyrics saved! (' + lyrics.length + ' lines)');
      lyricIndex = 0;
      if (isFullscreen) startLyrics();
    }

    function clearLyrics() {
      lyrics = [];
      document.getElementById('lyrics-input').value = '';
      localStorage.removeItem('sudhir-lyrics');
      toast('Lyrics cleared');
      if (isFullscreen) renderLyrics();
    }

    function loadPresetLyrics(type) {
      const presets = {
        demo: [
          "‚ô™ Welcome to Sudhir Player Pro ‚ô™",
          "Experience the magic of music",
          "Watch the colors dance",
          "Feel the rhythm in your soul",
          "Music connects hearts ‚ô™"
        ],
        hindi: [
          "üéµ ‡§§‡•Ç ‡§π‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§∏‡•Å‡§¨‡§π ‡§π‡•à",
          "‡§§‡•Ç ‡§π‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§∂‡§æ‡§Æ ‡§π‡•à",
          "‡§§‡•Å‡§ù‡§∏‡•á ‡§π‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§ø‡§Ç‡§¶‡§ó‡•Ä",
          "‡§§‡•Ç ‡§π‡•Ä ‡§Æ‡•á‡§∞‡§æ ‡§ú‡§π‡§æ‡§® ‡§π‡•à",
          "‡§¶‡§ø‡§≤ ‡§∏‡•á ‡§§‡•á‡§∞‡•á ‡§≤‡§ø‡§è ‚ù§Ô∏è"
        ],
        party: [
          "üéâ Let's party tonight!",
          "Turn up the volume!",
          "Dance like nobody's watching",
          "Feel the bass drop!",
          "This is our night! üéä",
          "Hands up in the air!",
          "We're gonna dance till dawn!"
        ],
        love: [
          "‚ù§Ô∏è You are my sunshine",
          "My heart beats for you",
          "Forever and always",
          "You complete me",
          "Love is in the air ‚ù§Ô∏è"
        ],
        motivational: [
          "üí™ Rise and shine!",
          "You can do anything!",
          "Believe in yourself",
          "Chase your dreams",
          "Never give up!",
          "You are unstoppable! üî•"
        ]
      };
      lyrics = presets[type] || presets.demo;
      document.getElementById('lyrics-input').value = lyrics.join('\n');
      saveLyrics();
    }

    // ========== VISUALIZER PRESETS ==========
    function loadVizPreset(preset) {
      const presets = {
        minimal: { vizStyle: 'wave', vizIntensity: 3, vizParticles: false, vizMirror: false, vizGlow: false, bgEffect: 'none' },
        intense: { vizStyle: 'radial', vizIntensity: 10, vizParticles: true, vizMirror: true, vizGlow: true, bgEffect: 'gradient' },
        chill: { vizStyle: 'circle', vizIntensity: 4, vizParticles: true, vizMirror: false, vizGlow: true, bgEffect: 'stars' },
        party: { vizStyle: 'bars', vizIntensity: 8, vizParticles: true, vizMirror: true, vizGlow: true, bgEffect: 'grid' },
        psychedelic: { vizStyle: 'galaxy', vizIntensity: 9, vizParticles: true, vizMirror: true, vizGlow: true, bgEffect: 'gradient', vizColorMode: 'rainbow' },
        retro: { vizStyle: 'waveform', vizIntensity: 6, vizParticles: false, vizMirror: false, vizGlow: true, bgEffect: 'grid', vizColorMode: 'neon' }
      };
      const p = presets[preset];
      if (p) {
        Object.assign(settings, p);
        localStorage.setItem('sudhir-settings-v2', JSON.stringify(settings));
        loadSettingsUI();
        if (isFullscreen) {
          createParticles();
          applyBgEffect();
        }
        toast('Preset: ' + preset);
      }
    }

    // ========== FULLSCREEN ==========
    function openFullscreen() {
      isFullscreen = true;
      document.getElementById('fs-overlay').classList.add('active');
      updateFsInfo();
      if (settings.vizParticles) createParticles();
      applyBgEffect();
      startLyrics();
      drawFsViz();
      document.getElementById('fs-overlay').requestFullscreen?.();
    }

    function closeFullscreen() {
      isFullscreen = false;
      document.getElementById('fs-overlay').classList.remove('active');
      stopLyrics();
      document.exitFullscreen?.();
    }

    function updateFsInfo() {
      const item = queue[currentIndex];
      document.getElementById('fs-title').textContent = item?.title || 'No track';
      document.getElementById('fs-sub').textContent = item?.source || '';
    }

    // ========== BACKGROUND EFFECTS ==========
    function applyBgEffect() {
      const el = document.getElementById('bg-effect');
      el.className = 'bg-effect';
      el.style.cssText = '';
      el.innerHTML = '';
      
      switch (settings.bgEffect) {
        case 'stars':
          el.classList.add('bg-stars');
          break;
        case 'gradient':
          el.style.background = 'radial-gradient(circle at 50% 50%, rgba(56,189,248,0.2), transparent 70%)';
          el.style.animation = 'colorShift 10s linear infinite';
          break;
        case 'grid':
          el.style.backgroundImage = `
            linear-gradient(rgba(56,189,248,0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(56,189,248,0.1) 1px, transparent 1px)
          `;
          el.style.backgroundSize = '50px 50px';
          el.style.animation = 'float 10s ease-in-out infinite';
          break;
        case 'noise':
          el.style.background = 'url("data:image/svg+xml,%3Csvg viewBox=\'0 0 256 256\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noise\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.8\' numOctaves=\'4\' /%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noise)\' opacity=\'0.1\'/%3E%3C/svg%3E")';
          break;
      }
    }

    // ========== PARTICLES ==========
    function createParticles() {
      const c = document.getElementById('particles');
      c.innerHTML = '';
      if (!settings.vizParticles) return;
      
      const colors = getVizColors();
      const count = settings.particleCount;
      const style = settings.particleStyle;
      
      for (let i = 0; i < count; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        const size = 3 + Math.random() * 8;
        
        let borderRadius = '50%';
        let clipPath = '';
        if (style === 'star') {
          clipPath = 'polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)';
          borderRadius = '0';
        } else if (style === 'square') {
          borderRadius = '2px';
        } else if (style === 'mixed') {
          const shapes = ['50%', '2px', 'polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)'];
          const shape = shapes[Math.floor(Math.random() * shapes.length)];
          if (shape.startsWith('polygon')) {
            clipPath = shape;
            borderRadius = '0';
          } else {
            borderRadius = shape;
          }
        }
        
        p.style.cssText = `
          width: ${size}px;
          height: ${size}px;
          left: ${Math.random() * 100}%;
          top: ${Math.random() * 100}%;
          background: ${colors[Math.floor(Math.random() * colors.length)]};
          border-radius: ${borderRadius};
          ${clipPath ? 'clip-path:' + clipPath + ';' : ''}
          animation: float ${3 + Math.random() * 4}s ease-in-out infinite, sparkle ${2 + Math.random() * 3}s ease-in-out infinite;
          animation-delay: ${Math.random() * 2}s;
          opacity: ${0.4 + Math.random() * 0.6};
        `;
        c.appendChild(p);
      }
    }

    function getVizColors() {
      if (settings.vizColorMode === 'custom') {
        return [settings.vizCustomColor];
      }
      if (settings.vizColorMode === 'rainbow') {
        return ['#ff0000', '#ff7f00', '#ffff00', '#00ff00', '#0000ff', '#8b00ff'];
      }
      if (settings.vizColorMode === 'fire') {
        return ['#ff0000', '#ff4500', '#ff6b00', '#ffd700'];
      }
      if (settings.vizColorMode === 'ice') {
        return ['#00ffff', '#00bfff', '#87ceeb', '#e0ffff'];
      }
      if (settings.vizColorMode === 'neon') {
        return ['#ff00ff', '#00ffff', '#ffff00', '#00ff00'];
      }
      if (settings.vizColorMode === 'mono') {
        return ['#ffffff'];
      }
      return ['--accent', '--accent2', '--accent3', '--accent4'].map(c =>
        getComputedStyle(document.documentElement).getPropertyValue(c).trim() || '#38bdf8'
      );
    }

    // ========== LYRICS ANIMATION ==========
    function startLyrics() {
      stopLyrics();
      renderLyrics();
      if (lyrics.length > 0) {
        lyricTimer = setInterval(() => {
          lyricIndex = (lyricIndex + 1) % lyrics.length;
          renderLyrics();
        }, settings.lyricSpeed * 1000);
      }
    }

    function stopLyrics() {
      clearInterval(lyricTimer);
    }

    function renderLyrics() {
      const box = document.getElementById('lyrics-box');
      if (!lyrics.length) {
        box.innerHTML = `
          <div class="lyric-line visible current color-${settings.lyricColor} anim-${settings.lyricAnim}">‚ô™ Music Playing ‚ô™</div>
          <div class="lyric-line visible next anim-${settings.lyricAnim}">Add lyrics in Settings</div>
        `;
        return;
      }

      const lines = settings.lyricLines;
      const animClass = 'anim-' + settings.lyricAnim;
      const colorClass = 'color-' + settings.lyricColor;
      let html = '';
      
      // Far previous
      if (lines >= 7) {
        const prev2 = lyrics[(lyricIndex - 2 + lyrics.length) % lyrics.length];
        html += `<div class="lyric-line visible far ${animClass}">${escHtml(prev2)}</div>`;
      }
      
      // Previous
      if (lines >= 3) {
        const prev = lyrics[(lyricIndex - 1 + lyrics.length) % lyrics.length];
        html += `<div class="lyric-line visible prev ${animClass}">${escHtml(prev)}</div>`;
      }
      
      // Current
      html += `<div class="lyric-line visible current ${colorClass} ${animClass}">${escHtml(lyrics[lyricIndex])}</div>`;
      
      // Next
      if (lines >= 3) {
        const next = lyrics[(lyricIndex + 1) % lyrics.length];
        html += `<div class="lyric-line visible next ${animClass}">${escHtml(next)}</div>`;
      }
      
      // Far next
      if (lines >= 5) {
        const next2 = lyrics[(lyricIndex + 2) % lyrics.length];
        html += `<div class="lyric-line visible far ${animClass}">${escHtml(next2)}</div>`;
      }

      if (lines >= 7) {
        const next3 = lyrics[(lyricIndex + 3) % lyrics.length];
        html += `<div class="lyric-line visible far ${animClass}" style="opacity:0.1">${escHtml(next3)}</div>`;
      }

      box.innerHTML = html;
      
      // Trigger animations with stagger
      setTimeout(() => {
        box.querySelectorAll('.lyric-line').forEach((el, i) => {
          el.style.transitionDelay = (i * 0.1) + 's';
        });
      }, 10);
    }

    // ========== VISUALIZER ==========
    function initAudio() {
      if (audioReady) return;
      try {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        analyser = audioCtx.createAnalyser();
        analyser.fftSize = 256;
        analyser.smoothingTimeConstant = settings.vizSmooth / 10;
        source = audioCtx.createMediaElementSource(audio);
        source.connect(analyser);
        analyser.connect(audioCtx.destination);
        audioReady = true;
      } catch (e) { console.error(e); }
    }

    function drawMiniWave() {
      const canvas = document.getElementById('mini-canvas');
      const ctx = canvas.getContext('2d');
      const dpr = window.devicePixelRatio || 1;

      function resize() {
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        ctx.scale(dpr, dpr);
      }
      resize();
      window.addEventListener('resize', resize);

      function draw() {
        const w = canvas.width / (window.devicePixelRatio || 1);
        const h = canvas.height / (window.devicePixelRatio || 1);
        ctx.clearRect(0, 0, w, h);

        const grad = ctx.createLinearGradient(0, 0, w, 0);
        grad.addColorStop(0, getComputedStyle(document.documentElement).getPropertyValue('--accent'));
        grad.addColorStop(1, getComputedStyle(document.documentElement).getPropertyValue('--accent2'));

        if (analyser && !audio.paused) {
          const data = new Uint8Array(analyser.frequencyBinCount);
          analyser.getByteFrequencyData(data);
          const barW = w / 32;
          for (let i = 0; i < 32; i++) {
            const v = data[i * 2] / 255;
            ctx.fillStyle = grad;
            ctx.fillRect(i * barW, h - v * h * 0.9, barW - 1, v * h * 0.9);
          }
        } else {
          const t = performance.now() / 1000;
          ctx.strokeStyle = grad;
          ctx.lineWidth = 2;
          ctx.beginPath();
          for (let x = 0; x < w; x++) {
            const y = h / 2 + Math.sin(x / 20 + t * 2) * 8;
            x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
          }
          ctx.stroke();
        }
        requestAnimationFrame(draw);
      }
      draw();
    }

    function drawFsViz() {
      const canvas = document.getElementById('fs-canvas');
      const ctx = canvas.getContext('2d');

      function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      resize();
      window.addEventListener('resize', resize);

      function draw() {
        if (!isFullscreen) return;
        const w = canvas.width;
        const h = canvas.height;
        const t = performance.now() / 1000;
        const intensity = settings.vizIntensity / 5;
        const colors = getVizColors();

        ctx.fillStyle = `rgba(0,0,0,${0.15 + (1 - intensity) * 0.1})`;
        ctx.fillRect(0, 0, w, h);

        let data = null;
        if (analyser && !audio.paused) {
          data = new Uint8Array(analyser.frequencyBinCount);
          analyser.getByteFrequencyData(data);
        }

        const style = settings.vizStyle;

        // Glow effect
        if (settings.vizGlow) {
          ctx.shadowBlur = 15;
          ctx.shadowColor = colors[0];
        } else {
          ctx.shadowBlur = 0;
        }

        if (style === 'bars') {
          const bars = 48;
          const barW = w / bars;
          const half = settings.vizMirror ? bars / 2 : bars;
          for (let i = 0; i < half; i++) {
            const v = data ? data[i * 2] / 255 : 0.3 + Math.sin(i / 5 + t * 2) * 0.2;
            const barH = v * h * 0.6 * intensity;
            ctx.fillStyle = colors[i % colors.length];
            ctx.fillRect(i * barW, h - barH, barW - 2, barH);
            if (settings.vizMirror) {
              ctx.fillRect(w - (i + 1) * barW, h - barH, barW - 2, barH);
            }
          }
        } else if (style === 'circle') {
          const cx = w / 2, cy = h / 2;
          const radius = Math.min(w, h) * 0.15;
          const pts = 96;
          for (let i = 0; i < pts; i++) {
            const angle = (i / pts) * Math.PI * 2 - Math.PI / 2;
            const v = data ? data[i % data.length] / 255 : 0.3 + Math.sin(i / 10 + t) * 0.2;
            const len = radius + v * radius * intensity;
            const x1 = cx + Math.cos(angle) * radius * 0.4;
            const y1 = cy + Math.sin(angle) * radius * 0.4;
            const x2 = cx + Math.cos(angle) * len;
            const y2 = cy + Math.sin(angle) * len;
            ctx.strokeStyle = colors[i % colors.length];
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
          }
        } else if (style === 'wave') {
          for (let l = 0; l < 4; l++) {
            ctx.strokeStyle = colors[l % colors.length];
            ctx.lineWidth = 2;
            ctx.globalAlpha = 0.8 - l * 0.15;
            ctx.beginPath();
            for (let x = 0; x < w; x += 3) {
              const v = data ? data[x % data.length] / 255 : 0;
              const y = h / 2 + Math.sin(x / 40 + t + l) * 30 * intensity + v * 50 * intensity;
              x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
            }
            ctx.stroke();
          }
          ctx.globalAlpha = 1;
        } else if (style === 'particles') {
          const count = 100;
          for (let i = 0; i < count; i++) {
            const v = data ? data[i % data.length] / 255 : 0.3;
            const x = (i / count) * w + Math.sin(t + i) * 20;
            const y = h / 2 + Math.sin(t * 2 + i * 0.5) * h * 0.3 * v * intensity;
            const size = 2 + v * 8 * intensity;
            ctx.fillStyle = colors[i % colors.length];
            ctx.beginPath();
            ctx.arc(x, y, size, 0, Math.PI * 2);
            ctx.fill();
          }
        } else if (style === 'spectrum') {
          const barCount = 64;
          const barW = w / barCount;
          for (let i = 0; i < barCount; i++) {
            const v = data ? data[i] / 255 : 0.2;
            const barH = v * h * 0.5 * intensity;
            const hue = (i / barCount) * 360 + t * 50;
            ctx.fillStyle = settings.vizColorMode === 'rainbow' 
              ? `hsl(${hue}, 80%, 60%)` 
              : colors[i % colors.length];
            ctx.fillRect(i * barW, (h - barH) / 2, barW - 1, barH);
            if (settings.vizMirror) {
              ctx.fillRect(i * barW, h - barH, barW - 1, barH);
              ctx.fillRect(i * barW, 0, barW - 1, barH);
            }
          }
        } else if (style === 'radial') {
          const cx = w / 2, cy = h / 2;
          const rings = 10;
          for (let r = 0; r < rings; r++) {
            const radius = 30 + r * 30 * intensity;
            const v = data ? data[r * 10] / 255 : 0.3;
            const hue = (r / rings) * 360 + t * 100;
            ctx.strokeStyle = settings.vizColorMode === 'rainbow' 
              ? `hsl(${hue}, 80%, 60%)` 
              : colors[r % colors.length];
            ctx.lineWidth = 3 + v * 8 * intensity;
            ctx.globalAlpha = 0.5 + v * 0.5;
            ctx.beginPath();
            ctx.arc(cx, cy, radius + v * 40 * intensity, 0, Math.PI * 2);
            ctx.stroke();
          }
          ctx.globalAlpha = 1;
        } else if (style === 'waveform') {
          ctx.strokeStyle = colors[0];
          ctx.lineWidth = 2;
          ctx.beginPath();
          for (let x = 0; x < w; x++) {
            const v = data ? (data[Math.floor(x / w * 128)] / 128 - 1) : Math.sin(x / 50 + t);
            const y = h / 2 + v * h * 0.3 * intensity;
            x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
          }
          ctx.stroke();
          
          // Mirror
          if (settings.vizMirror) {
            ctx.strokeStyle = colors[1] || colors[0];
            ctx.globalAlpha = 0.5;
            ctx.beginPath();
            for (let x = 0; x < w; x++) {
              const v = data ? (data[Math.floor(x / w * 128)] / 128 - 1) : Math.sin(x / 50 + t);
              const y = h / 2 - v * h * 0.3 * intensity;
              x === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
            }
            ctx.stroke();
            ctx.globalAlpha = 1;
          }
        } else if (style === 'galaxy') {
          const cx = w / 2, cy = h / 2;
          const arms = 5;
          const starsPerArm = 50;
          for (let a = 0; a < arms; a++) {
            for (let s = 0; s < starsPerArm; s++) {
              const angle = (a / arms) * Math.PI * 2 + (s / starsPerArm) * Math.PI + t * 0.3;
              const dist = 50 + s * 3 * intensity;
              const v = data ? data[(a * starsPerArm + s) % 128] / 255 : 0.5;
              const x = cx + Math.cos(angle) * dist + Math.sin(angle * 3) * 20;
              const y = cy + Math.sin(angle) * dist * 0.6 + Math.cos(angle * 3) * 20;
              const size = 1 + v * 4 * intensity;
              const hue = (a / arms) * 360 + t * 50;
              ctx.fillStyle = settings.vizColorMode === 'rainbow' 
                ? `hsl(${hue}, 80%, ${50 + v * 30}%)` 
                : colors[a % colors.length];
              ctx.globalAlpha = 0.3 + v * 0.7;
              ctx.beginPath();
              ctx.arc(x, y, size, 0, Math.PI * 2);
              ctx.fill();
            }
          }
          ctx.globalAlpha = 1;
        } else if (style === 'tunnel') {
          const cx = w / 2, cy = h / 2;
          const rings = 15;
          for (let r = 0; r < rings; r++) {
            const progress = ((t * 0.5 + r / rings) % 1);
            const radius = progress * Math.max(w, h) * 0.7;
            const v = data ? data[r * 8] / 255 : 0.5;
            ctx.strokeStyle = colors[r % colors.length];
            ctx.lineWidth = 2 + v * 5 * intensity;
            ctx.globalAlpha = 1 - progress;
            ctx.beginPath();
            ctx.arc(cx, cy, radius, 0, Math.PI * 2);
            ctx.stroke();
          }
          ctx.globalAlpha = 1;
        } else if (style === 'matrix') {
          const cols = 30;
          const colW = w / cols;
          ctx.font = '14px monospace';
          ctx.textAlign = 'center';
          for (let c = 0; c < cols; c++) {
            const v = data ? data[c * 4] / 255 : 0.3;
            const len = Math.floor(5 + v * 15 * intensity);
            const speed = 0.5 + v;
            const offset = ((t * speed + c * 0.5) % 1) * h;
            for (let i = 0; i < len; i++) {
              const y = (offset + i * 20) % h;
              const alpha = 1 - i / len;
              ctx.fillStyle = i === 0 ? '#ffffff' : `rgba(0,255,0,${alpha})`;
              ctx.fillText(String.fromCharCode(0x30A0 + Math.random() * 96), c * colW + colW / 2, y);
            }
          }
        }

        ctx.shadowBlur = 0;
        requestAnimationFrame(draw);
      }
      draw();
    }

    // ========== PLAYER ==========
    function formatTime(s) {
      if (!isFinite(s)) return '0:00';
      const m = Math.floor(s / 60);
      const sec = Math.floor(s % 60);
      return `${m}:${String(sec).padStart(2, '0')}`;
    }

    function syncUI() {
      const cur = formatTime(audio.currentTime);
      const dur = formatTime(audio.duration);
      document.getElementById('t-cur').textContent = cur;
      document.getElementById('t-dur').textContent = dur;
      document.getElementById('fs-cur').textContent = cur;
      document.getElementById('fs-dur').textContent = dur;
      if (isFinite(audio.duration)) {
        const v = (audio.currentTime / audio.duration) * 1000;
        document.getElementById('seek').value = v;
        document.getElementById('fs-seek').value = v;
      }
    }

    function updatePlayBtn() {
      const icon = audio.paused ? 'play' : 'pause';
      document.getElementById('play-btn').innerHTML = `<i data-lucide="${icon}"></i>`;
      document.getElementById('fs-play').innerHTML = `<i data-lucide="${icon}"></i>`;
      lucide.createIcons();
    }

    function togglePlay() {
      if (audioCtx?.state === 'suspended') audioCtx.resume();
      audio.paused ? audio.play().catch(() => toast('Click play')) : audio.pause();
    }

    function playIndex(i) {
      if (i < 0 || i >= queue.length) return;
      currentIndex = i;
      const item = queue[i];
      document.getElementById('now-title').textContent = item.title;
      document.getElementById('now-sub').textContent = item.source;
      updateFsInfo();
      audio.src = item.url;
      audio.volume = document.getElementById('vol').value / 100;
      initAudio();
      if (audioCtx?.state === 'suspended') audioCtx.resume();
      audio.play().catch(() => toast('Click play'));
      renderQueue();
      toast(`Playing: ${item.title}`);
      lyricIndex = 0;
      if (isFullscreen) startLyrics();
    }

    function nextTrack() {
      if (!queue.length) return;
      let next = shuffle ? Math.floor(Math.random() * queue.length) : currentIndex + 1;
      if (next >= queue.length) next = 0;
      playIndex(next);
    }

    function prevTrack() {
      if (!queue.length) return;
      if (audio.currentTime > 3) { audio.currentTime = 0; return; }
      let prev = currentIndex - 1;
      if (prev < 0) prev = queue.length - 1;
      playIndex(prev);
    }

    function toggleShuffle() {
      shuffle = !shuffle;
      document.getElementById('shuffle-chip').classList.toggle('active', shuffle);
      toast(`Shuffle: ${shuffle ? 'ON' : 'OFF'}`);
    }

    function toggleLoop() {
      loop = !loop;
      document.getElementById('loop-chip').classList.toggle('active', loop);
      toast(`Loop: ${loop ? 'ON' : 'OFF'}`);
    }

    function setSpeed() {
      audio.playbackRate = parseFloat(document.getElementById('speed').value);
    }

    // ========== QUEUE ==========
    function escHtml(s) {
      return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
    }

    function renderQueue() {
      const el = document.getElementById('queue');
      document.getElementById('queue-count').textContent = `${queue.length} tracks`;
      if (!queue.length) {
        el.innerHTML = '<div style="text-align:center;color:var(--text-dim);font-size:0.7rem;padding:15px;">Queue empty</div>';
        return;
      }
      el.innerHTML = queue.map((item, i) => `
        <div class="q-item ${i === currentIndex ? 'active' : ''}" onclick="playIndex(${i})">
          <div class="q-num">${i + 1}</div>
          <div class="q-info">
            <div class="q-title">${escHtml(item.title)}</div>
            <div class="q-sub">${escHtml(item.source)}</div>
          </div>
          <button class="q-del" onclick="event.stopPropagation();removeTrack(${i})"><i data-lucide="x"></i></button>
        </div>
      `).join('');
      lucide.createIcons();
    }

    function addFiles(files, src = 'Local') {
      const audios = Array.from(files).filter(f => f.type.startsWith('audio/') || /\.(mp3|m4a|wav|ogg|flac)$/i.test(f.name));
      if (!audios.length) { toast('No audio files'); return; }
      audios.forEach(f => {
        queue.push({ title: f.name.replace(/\.[^.]+$/, ''), source: src, url: URL.createObjectURL(f) });
      });
      renderQueue();
      toast(`Added ${audios.length} tracks`);
      if (currentIndex === -1) playIndex(0);
    }

    function removeTrack(i) {
      if (queue[i]?.url?.startsWith('blob:')) URL.revokeObjectURL(queue[i].url);
      queue.splice(i, 1);
      if (currentIndex >= queue.length) currentIndex = queue.length - 1;
      if (currentIndex === i && queue.length) playIndex(currentIndex);
      renderQueue();
    }

    function clearQueue() {
      queue.forEach(t => t.url?.startsWith('blob:') && URL.revokeObjectURL(t.url));
      queue = [];
      currentIndex = -1;
      audio.pause();
      audio.src = '';
      document.getElementById('now-title').textContent = 'No track loaded';
      document.getElementById('now-sub').textContent = 'Add music';
      renderQueue();
      toast('Queue cleared');
    }

    function sortQueue() {
      queue.sort((a, b) => a.title.localeCompare(b.title));
      renderQueue();
      toast('Sorted');
    }

    async function pickFolder() {
      if (!window.showDirectoryPicker) { toast('Not supported'); return; }
      try {
        const dir = await window.showDirectoryPicker();
        const files = [];
        for await (const e of dir.values()) {
          if (e.kind === 'file') {
            const f = await e.getFile();
            if (f.type.startsWith('audio/') || /\.(mp3|m4a|wav|ogg|flac)$/i.test(f.name)) files.push(f);
          }
        }
        addFiles(files, dir.name);
      } catch {}
    }

    async function loadLibrary() {
      // Check if running from file:// protocol
      if (location.protocol === 'file:') { 
        toast('‚ö†Ô∏è Local server required! See console for help.');
        console.log(`
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  üéµ LIBRARY FEATURE - LOCAL SERVER REQUIRED                ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                                            ‚ïë
‚ïë  Library button needs a local server to work.              ‚ïë
‚ïë  Currently you're using: file:// protocol                  ‚ïë
‚ïë                                                            ‚ïë
‚ïë  ‚úÖ HOW TO FIX:                                            ‚ïë
‚ïë                                                            ‚ïë
‚ïë  Option 1: Python (Recommended)                            ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                          ‚ïë
‚ïë  1. Open Terminal/CMD in project folder                    ‚ïë
‚ïë  2. Run: python -m http.server 8000                        ‚ïë
‚ïë  3. Open: http://localhost:8000                            ‚ïë
‚ïë                                                            ‚ïë
‚ïë  Option 2: VS Code Live Server                             ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                          ‚ïë
‚ïë  1. Install "Live Server" extension                        ‚ïë
‚ïë  2. Right-click index.html ‚Üí "Open with Live Server"       ‚ïë
‚ïë                                                            ‚ïë
‚ïë  Option 3: Node.js                                         ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                          ‚ïë
‚ïë  1. Run: npx serve                                         ‚ïë
‚ïë  2. Open the URL shown                                     ‚ïë
‚ïë                                                            ‚ïë
‚ïë  üéß ALTERNATIVE: Use "Add Files" or drag & drop instead!   ‚ïë
‚ïë                                                            ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        `);
        return; 
      }
      
      try {
        toast('üìÇ Loading library...');
        const res = await fetch('./media.json');
        
        if (!res.ok) {
          throw new Error('media.json not found! Check file exists.');
        }
        
        const data = await res.json();
        
        if (!data.audio || data.audio.length === 0) {
          toast('‚ö†Ô∏è No audio files in media.json');
          return;
        }
        
        let loaded = 0;
        let failed = 0;
        const failedFiles = [];
        
        for (const url of data.audio) {
          try {
            // Check if file exists
            const checkRes = await fetch(url, { method: 'HEAD' });
            if (checkRes.ok) {
              const title = url.split('/').pop().replace(/\.[^.]+$/, '');
              queue.push({ title, source: 'Library', url });
              loaded++;
            } else {
              failed++;
              failedFiles.push(url);
            }
          } catch (e) {
            failed++;
            failedFiles.push(url);
          }
        }
        
        renderQueue();
        
        if (loaded > 0) {
          toast(`‚úÖ Loaded ${loaded} tracks` + (failed > 0 ? `, ${failed} failed` : ''));
          if (currentIndex === -1) playIndex(0);
        } else {
          toast('‚ùå No files loaded! Check music folder.');
        }
        
        if (failedFiles.length > 0) {
          console.log('‚ùå Failed to load these files:');
          failedFiles.forEach(f => console.log('  - ' + f));
          console.log('\nüí° Make sure:');
          console.log('  1. "music" folder exists in project root');
          console.log('  2. File names match EXACTLY (case-sensitive!)');
          console.log('  3. Files are .mp3, .wav, .ogg, or .flac');
        }
        
      } catch (e) { 
        toast('‚ùå ' + e.message);
        console.error('Library load error:', e);
      }
    }

    // ========== EVENTS ==========
    audio.addEventListener('timeupdate', syncUI);
    audio.addEventListener('play', updatePlayBtn);
    audio.addEventListener('pause', updatePlayBtn);
    audio.addEventListener('ended', () => {
      if (loop) {
        audio.currentTime = 0;
        audio.play();
      } else if (autoplay) {
        nextTrack();
      }
    });

    document.getElementById('seek').addEventListener('input', e => {
      if (isFinite(audio.duration)) audio.currentTime = (e.target.value / 1000) * audio.duration;
    });
    document.getElementById('fs-seek').addEventListener('input', e => {
      if (isFinite(audio.duration)) audio.currentTime = (e.target.value / 1000) * audio.duration;
    });
    document.getElementById('vol').addEventListener('input', e => audio.volume = e.target.value / 100);
    document.getElementById('file-input').addEventListener('change', e => { addFiles(e.target.files); e.target.value = ''; });

    const dropZone = document.getElementById('drop-zone');
    ['dragenter', 'dragover'].forEach(e => dropZone.addEventListener(e, ev => { ev.preventDefault(); dropZone.classList.add('dragover'); }));
    ['dragleave', 'drop'].forEach(e => dropZone.addEventListener(e, ev => { ev.preventDefault(); dropZone.classList.remove('dragover'); }));
    dropZone.addEventListener('drop', e => addFiles(e.dataTransfer.files, 'Dropped'));

    document.addEventListener('keydown', e => {
      if (['INPUT', 'TEXTAREA', 'SELECT'].includes(e.target.tagName)) return;
      switch (e.key.toLowerCase()) {
        case ' ': e.preventDefault(); togglePlay(); break;
        case 'n': nextTrack(); break;
        case 'p': prevTrack(); break;
        case 'j': audio.currentTime = Math.max(0, audio.currentTime - 10); break;
        case 'l': audio.currentTime = Math.min(audio.duration || 0, audio.currentTime + 10); break;
        case 'f': isFullscreen ? closeFullscreen() : openFullscreen(); break;
        case 'escape': closeFullscreen(); closeSettings(); break;
      }
    });

    if (!window.showDirectoryPicker) {
      document.getElementById('folder-btn').style.opacity = '0.5';
    }

    function showServerHelp() {
      const isFileProtocol = location.protocol === 'file:';
      const message = isFileProtocol 
        ? `üéµ LIBRARY FEATURE - HELP

‚ö†Ô∏è You're opening this file directly!
Library button needs a local server.

‚úÖ SOLUTIONS:

1Ô∏è‚É£ USE DRAG & DROP (Easiest!)
   ‚Üí Just drag your music files to the drop zone

2Ô∏è‚É£ USE "ADD FILES" BUTTON
   ‚Üí Click "Add" and select your songs

3Ô∏è‚É£ START LOCAL SERVER (For Library)
   
   Python:
   ‚Üí Open Terminal in project folder
   ‚Üí Run: python -m http.server 8000
   ‚Üí Open: http://localhost:8000
   
   VS Code:
   ‚Üí Install "Live Server" extension
   ‚Üí Right-click ‚Üí Open with Live Server

üìÅ Your current URL:
${location.href}

üìÅ Should be like:
http://localhost:8000`
        : `üéµ LIBRARY FEATURE - HELP

‚úÖ Server detected! Library should work.

üìÅ Make sure you have:
1. "music" folder in project root
2. media.json file configured
3. Song files with EXACT names

üìÇ Expected structure:
sudhir-music-player/
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ media.json
‚îî‚îÄ‚îÄ music/
    ‚îú‚îÄ‚îÄ song1.mp3
    ‚îú‚îÄ‚îÄ song2.mp3
    ‚îî‚îÄ‚îÄ ...

üîç Current URL: ${location.href}`;

      alert(message);
    }

    // ========== INIT ==========
    applySettings();
    renderQueue();
    drawMiniWave();
    lucide.createIcons();
    console.log('üéµ Sudhir Music Player Pro Ready!');
  </script>
</body>
</html>
